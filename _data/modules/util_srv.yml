# ------------------------------------------------------------------------------
# ~/_data/modules/util_srv.yml
# User configuration settings for J1 Utility Services
#
# Product/Info:
# https://jekyll.one
#
# Copyright (C) 2019 Juergen Adams
#
# J1 Template is licensed under the MIT License.
# See: https://github.com/jekyll-one/J1 Template/blob/master/LICENSE
# ------------------------------------------------------------------------------
# NOTE: For the utility server, toplevel ports like 44444 are used to prevent
#       Chrome unsafe port issues (net::ERR_UNSAFE_PORT)
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# About this configuration (used for J1 CC only)
#
about_config:

  title:                                Utility Services
  scope:                                User settings
  location:                             _data/modules/util_srv.yml

# ------------------------------------------------------------------------------
# User configuration settings
#
settings:
  enabled:                              false

  ssl:                                  false
  origin:                               localhost
  host_name:                            0.0.0.0
  port:                                 44444
  verbose:                              false

  # OAuth client (endpoint: /auth)
  # --------------------------------------------------------------------------    
  oauth_client:
    enabled:                            true

    provider:                           github      
    provider_url:                       https://github.com                      # PROVIDER_URL needed for enterprise github installs
    token_path:                         /login/oauth/access_token
    authorize_path:                     /login/oauth/authorize

  # Git client (endpoint: /git)
  # --------------------------------------------------------------------------
  git_client:
    enabled:                            true

    pull:
      execute:                          true                                    # true|false
      response_success:                 The pull request to your local working copy finished successfully.
      response_failed:                  "The pull request to your local working copy has failed. Reason: "

  # NPM client (endpoint: /npm)
  # --------------------------------------------------------------------------
  npm_client:
    enabled:                            true

    built:                              
      execute:                          false                                   # rebuilt disabled for testing (as Jekyll is running in parallel)
      response_success:                 The built request to your local site finished successfully.
      response_failed:                  "The built request to your local fite has failed. Reason: "

  # Logger client (endpoint: /log2disk)
  # --------------------------------------------------------------------------
  logger_client:
    enabled:                            true
    payload_url_app:                    http://localhost:5000/log2disk?request=write
    payload_url_web:                    http://localhost:44444/log2disk?request=write

    log_folder:                         log
    log_file_name:                      messages
    log_file_ext:                       log      

    create_on_start:                    true
    reset_on_start:                     true
    rolling_files:                      false
    file_mode:                          append


# ------------------------------------------------------------------------------
# END config