



  

      <!DOCTYPE html> <html lang="en"> <head data-proofer-ignore> <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>full index search</title> <meta name="description" content="Learn the search query language used by Lunr. The DSL used by Lunr is quite close to Solr to support a powerful search experience for better result. Using search expressions with wildcards, conditions like and|or and fuzzy search algorithms are supported. "> <link rel="icon" type="image/ico" href="/assets/images/modules/icons/j1/j1-32x32.ico"> <meta name="author" content="J1 Team"> <meta name="keywords" content="Jekyll, One, Template, Ruby, Asciidoctor, Asciidoc, Bootstrap, Javascript, JS, JS3, CSS, CSS3, HTML5, Material, Design"> <meta name="robots" content="index"> <meta name="robots" content="follow"> <link rel="preload" as="style" href="/assets/themes/j1/core/css/themes/uno-light/bootstrap.min.css"> <link rel="preload" as="style" href="/assets/themes/j1/core/css/vendor.min.css"> <link rel="preload" as="script" href="/assets/themes/j1/modules/bmd/js/bootstrap-material-design.min.js"> <link rel="preload" as="script" href="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"> <link rel="preload" as="script" href="/assets/themes/j1/core/js/template.min.js"> <link rel="preload" as="script" href="/assets/themes/j1/adapter/js/attic.js"> <link rel="preload" as="script" href="/assets/themes/j1/adapter/js/logger.js"> <link rel="preload" as="script" href="/assets/themes/j1/adapter/js/bmd.js"> <link rel="preload" as="script" href="/assets/themes/j1/adapter/js/navigator.js"> <link rel="dns-prefetch" href="https://bootswatch.com"> <link rel="preconnect" href="https://bootswatch.com"> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/core/css/themes/uno-light/bootstrap.min.css" /> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/core/css/icon-fonts/materialdesign.min.css" /> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/core/css/icon-fonts/fontawesome.min.css" /> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/core/css/vendor.min.css" /> <script sync src="/assets/themes/j1/modules/util/js/js.cookie.js"></script> <script sync src="/assets/themes/j1/modules/util/js/lite-url.js"></script> <script sync src="/assets/themes/j1/modules/util/js/platform.js"></script> <script sync src="/assets/themes/j1/adapter/js/j1.js"></script> <script sync src="/assets/themes/j1/modules/jquery/js/jquery.min.js"></script> <script sync src="/assets/themes/j1/modules/jquery/js/jqueryUI.min.js"></script> <script sync src="/assets/themes/j1/modules/popper/js/popper.min.js"></script> <script sync src="/assets/themes/j1/core/js/template.min.js"></script> <script sync src="/assets/themes/j1/modules/util/js/log4javascript.js"></script> <script sync src="/assets/themes/j1/adapter/js/logger.js"></script> <script sync src="/assets/themes/j1/modules/backstretch/js/backstretch.min.js"></script> <script sync src="/assets/themes/j1/adapter/js/attic.js"></script> <script sync src="/assets/themes/j1/adapter/js/navigator.js"></script> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/mmenuLight/css/mmenu.min.css" /> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/mmenuLight/css/theme/uno.min.css" /> <script sync src="/assets/themes/j1/modules/mmenuLight/js/mmenu.js"></script> <script sync src="/assets/themes/j1/adapter/js/mmenu.js"></script> <script sync src="/assets/themes/j1/adapter/js/themer.js"></script> <script sync src="/assets/themes/j1/adapter/js/toccer.js"></script> <script sync src="/assets/themes/j1/adapter/js/cookiebar.js"></script> <script sync src="/assets/themes/j1/modules/themeSwitcher/js/switcher.min.js"></script> <script sync src="/assets/themes/j1/adapter/js/bmd.js"></script> <script sync src="/assets/themes/j1/modules/bmd/js/bootstrap-material-design.min.js"></script> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/rtable/css/theme/uno.min.css" /> <script sync src="/assets/themes/j1/adapter/js/rtable.js"></script> <script sync src="/assets/themes/j1/modules/rtable/js/rtable.min.js"></script> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/rouge/css/base16/theme.css" /> <script defer src="/assets/themes/j1/adapter/js/rouge.js"></script> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/fam/css/uno/fam.css" /> <script sync src="/assets/themes/j1/modules/materialize/js/cash.js"></script> <script sync src="/assets/themes/j1/modules/fam/js/fam.js"></script> <script sync src="/assets/themes/j1/adapter/js/fam.js"></script> <link rel="stylesheet" type="text/css" href="/assets/themes/j1/modules/lunrSearch/css/lunr_search.min.css" /> <script defer src="/assets/themes/j1/adapter/js/lunr_search.js"></script> <script defer src="/assets/themes/j1/modules/lunrSearch/js/lunr.min.js"></script> <script defer src="/assets/themes/j1/modules/lunrSearch/js/mustache.min.js"></script> <script defer src="/assets/themes/j1/modules/lunrSearch/js/dateformat.min.js"></script> <script defer src="/assets/themes/j1/modules/lunrSearch/js/uri.min.js"></script> <script defer src="/assets/themes/j1/modules/lunrSearch/js/lunr_search.min.js"></script> </head> <body> <div id="no_flicker" style="display: none"> <div id="navigator_nav_topsearch" class="top-search ml-4 mr-4" style="display: none;"> <div class="input-group"> <span class="input-group-addon"><i class="mdi mdi-magnify mdi-2x" style="color:#9E9E9E"></i></span> <input id="search-query" type="text" name="q" placeholder="QuickSearch" autocomplete="off" class="form-control"> <span id="clear-topsearch" class="form-clear form-clear-searcher d-none mt-2"><i class="mdi mdi-format-clear mdi-2x" style="color:#9E9E9E"></i></span> <span class="input-group-addon close-search"><i class="mdi mdi-close mdi-3x" style="color:#9E9E9E"></i></span> </div> <div class="search-results hide-scrollbar"> <section id="search-results" style="display: none"></section> </div> <script id="search-results-template" type="text/mustache"> <ul style="list-style: none; margin-left: .25rem; margin-right: 3.75rem"> {{#docs}} <li> <h4 class="result-item"> <a href="{{url}}" target="_blank">{{title}} · {{tagline}}</a> </h4> <p class="result-item-text small text-muted mt-2 mb-0"> <i class="mdi mdi-calendar-blank mdi-18px mr-1"></i>{{displaydate}} </p> <p class="result-item-text">{{description}}</p> <p class="result-item-text small text-muted mb-3"> <i class="mdi mdi-tag mdi-18px mr-1"></i>{{#tags}} {{.}} {{/tags}} <i class="mdi mdi-tag-text-outline mdi-18px mr-1 ml-2"></i>{{#categories}} {{.}} {{/categories}} </p> </li> {{/docs}} <ul> </script> </div> <nav id="navigator_nav_mmenu"></nav> <nav id="navigator_sidebar_mmenu"></nav> <nav id="navigator_toc_mmenu"></nav> <nav id="navigator_nav_navbar" class="navbar navigator navbar-expand-lg navbar-default light navbar-fixed navbar-transparent"> <a id="navbar-brand" class="navbar-brand animated"> <img src="/assets/images/modules/icons/j1/j1-512x512.png" height="48" alt="Starter Web"></a> <button id="mmenu-button" type="button" class="navigator navbar-toggler animated fadeIn" data-toggle="collapse" data-target="#navigator_nav_menu" aria-controls="navigator_nav_menu" aria-expanded="false" aria-label="Toggle navigation"> <i class="mdi mdi-menu mdi-36px"></i> </button> <div id="navigator_nav_menu" class="collapse"></div> <div id="navigator_nav_quicklinks" class="attr-nav collapse navbar-collapse justify-content-end"></div> </nav> <div id="authclient_modals" class="authclient_modals"></div> <header id="header"> <div id="image_attic" class="attic"> <div class="container"> <div id="head-title" class="head-title animated"> <h2 id="head-title-text" class="notoc">Lunr</h2></div> <div id="head-tagline" class="head-tagline animated"> <h3 id="head-tagline-tagline" class="notoc">full index search</h3></div> <div class="attic-caption"></div> </div> </div> </header> <div id="content" class="container mb-5"> <main class="r-text-300 js-toc-content"> <div class="sect1"> <h2 id="searching">Searching</h2> <div class="sectionbody"> <div class="paragraph"> <p>After you have built an index of your documents, the next step is to perform a search.</p> </div> <div class="paragraph"> <p>The simplest way to start is to pass the text on which you want to search into the search method:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>The above will return details of all documents that match the term “foo”. Although it looks like a string, the <code>search</code> method parses the string into a search query. This supports special syntax for defining more complex queries.</p> </div> <div class="paragraph"> <p>Searches for multiple terms are also supported. If a document matches <em>at least</em> one of the search terms, it will show in the results. The search terms are combined with OR.</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo bar</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>The above example will match documents that contain either “foo” or “bar”. Documents that contain <em>both</em> will score more highly and will be returned first.</p> </div> <div class="sect2"> <h3 id="scoring">Scoring</h3> <div class="paragraph"> <p>The score (also known as relevance) of a document is calculated by the <a href="https://en.wikipedia.org/wiki/Okapi_BM25">BM25</a> algorithm, along with other factors such as <a href="#Boosts">boosts</a>. You don’t need to worry too much about the details of how BM25 works; to summarize, the more a search term occurs in a single document, the more that term will increase that document’s score, but the more a search term occurs in the overall <em>collection</em> of documents, the less that term will increase a document’s score.</p> </div> <div class="paragraph"> <p>For example, let’s say you’re indexing a collection of documents about JavaScript testing libraries. The terms “JavaScript”, “library”, and “test” may occur very frequently throughout the entire collection, so finding a document that mentions one of these terms isn’t very significant. However, if you’re searching for “integration test”, only three documents in the collection have the term “integration” in them, and <em>one</em> of them mentions “integration” many times, that will bring the score for that one document higher up.</p> </div> </div> <div class="sect2"> <h3 id="wildcards">Wildcards</h3> <div class="paragraph"> <p>Lunr supports wildcards when performing searches. A wildcard is represented as an asterisk (<code>*</code>) and can appear anywhere in a search term. For example, the following will match all documents with words beginning with “foo”:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo*</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>This will match all documents that end with ‘oo’:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">*oo</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>Leading wildcards, as in the above example, should be used sparingly. They can have a negative impact on the performance of a search, especially in large indexes.</p> </div> <div class="paragraph"> <p>Finally, a wildcard can be in the middle of a term. The following will match any documents that contain a term that begins with “f” and ends in “o”:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">f*o</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>It is also worth noting that, when a search term contains a wildcard, no stemming is performed on the search term.</p> </div> </div> <div class="sect2"> <h3 id="fields">Fields</h3> <div class="paragraph"> <p>By default, Lunr will search all fields in a document for the query term, and it is possible to restrict a term to a specific field. The following example searches for the term “foo” in the field title:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">title:foo</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>The search term is prefixed with the name of the field, followed by a colon (<code>:</code>). The field <em>must</em> be one of the fields defined when building the index. Unrecognised fields will lead to an error.</p> </div> <div class="paragraph"> <p>Field-based searches can be combined with all other term modifiers and wildcards, as well as other terms. For example, to search for words beginning with “foo” in the title or with “bar” in any field the following query can be used:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">title:foo* bar</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="boosts">Boosts</h3> <div class="paragraph"> <p>In multi-term searches, a single term may be important than others. For these cases Lunr supports term level boosts. Any document that matches a boosted term will get a higher relevance score, and appear higher up in the results. A boost is applied by appending a caret (<code>^</code>) and then a positive integer to a term.</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo^10 bar</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>The above example weights the term “foo” 10 times higher than the term “bar”. The boost value can be any positive integer, and different terms can have different boosts:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo^10 bar^5 baz</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> </div> <div class="sect2"> <h3 id="fuzzy-matches">Fuzzy Matches</h3> <div class="paragraph"> <p>Lunr supports fuzzy matching search terms in documents, which can be helpful if the spelling of a term is unclear, or to increase the number of search results that are returned. The amount of fuzziness to allow when searching can also be controlled. Fuzziness is applied by appending a tilde (<code>~</code>) and then a positive integer to a term. The following search matches all documents that have a word within 1 edit distance of “foo”:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo~1</span><span class="dl">'</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>An edit distance of 1 allows words to match if either adding, removing, changing or transposing a character in the word would lead to a match. For example “boo” requires a single edit (replacing “f” with “b”) and would match, but “boot” would not as it also requires an additional “t” at the end.</p> </div> </div> <div class="sect2"> <h3 id="term-presence">Term Presence</h3> <div class="paragraph"> <p>By default, Lunr combines multiple terms together in a search with a logical OR. That is, a search for “foo bar” will match documents that contain “foo” or contain “bar” or contain both. This behaviour is controllable at the term level, i.e. the presence of each term in matching documents can be specified. By default each term is optional in a matching document, though a document must have at least one matching term. It is possible to specify that a term must be present in matching documents, or that it must be absent in matching documents.</p> </div> <div class="paragraph"> <p>To indicate that a term must be present in matching documents the term should be prefixed with a plus (<code>+</code>) and to indicate that a term must be absent the term should be prefixed with a minus (<code>-</code>). Without either prefix the term’s presence in matching documents is optional.</p> </div> <div class="paragraph"> <p>The below example searches for documents that must contain “foo”, might contain “bar” and must not contain “baz”:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">"</span><span class="s2">+foo bar -baz</span><span class="dl">"</span><span class="p">)</span></span></code></pre></div> </div> <div class="paragraph"> <p>To simulate a logical AND search of “foo AND bar” mark both terms as required:</p> </div> <div class="listingblock"> <div class="content"><pre class="highlight"><code class="language-javascript" data-lang="javascript"><span id="L1" class="line"><span class="nx">idx</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">"</span><span class="s2">+foo +bar</span><span class="dl">"</span><span class="p">)</span></span></code></pre></div> </div> </div> </div> </div> </main> <section id="fam-container" class=""></section> </div> <footer id="exception_container" class="container-fluid no-padding"></footer> <footer id="j1_footer" class=""></footer> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'template core is being initialized'; logger.info(log_text); var settings = $.extend({}, {"layout": "page", "fam_menu_id": "page_ctrl_simple", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.init(settings); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module logger is being initialized'; logger.info(log_text); j1.adapter.logger.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'Backstretch is being initialized'; logger.info(log_text); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module attic is being initialized'; logger.info(log_text); var settings = $.extend({}, {"padding_top":400, "padding_bottom":50, "opacity":0.5, "slides":[{"url":"/assets/images/modules/attics/banner/lunr-banner-1280x800.jpg", "alt":"Lunr"}]}, {"layout": "page", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.attic.init(settings); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module navigator is being initialized'; logger.info(log_text); j1.adapter.navigator.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module mmenu is being initialized'; logger.info(log_text); j1.adapter.mmenu.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module themer is being initialized'; logger.info(log_text); j1.adapter.themer.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module toccer is being initialized'; logger.info(log_text); var settings = $.extend({}, {"layout": "page", "fam_menu_id": "page_ctrl_simple", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.toccer.init(settings); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module cookiebar is being initialized'; logger.info(log_text); j1.adapter.cookiebar.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module theme_switcher is being initialized'; logger.info(log_text); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'Material Design for Bootstrap is being initialized'; logger.info(log_text); j1.adapter.bmd.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'module rtable is being initialized'; logger.info(log_text); j1.adapter.rtable.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'theme rouge is being initialized'; logger.info(log_text); j1.adapter.rouge.init(); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'Floating Button Menu is being initialized'; logger.info(log_text); var settings = $.extend({}, {"layout": "page", "fam_menu_id": "page_ctrl_simple", "scrollbar": "false", "toc": "true", "comments": "false"}); j1.adapter.fam.init(settings); }); </script> <script> $(document).ready(function() { var logger = log4javascript.getLogger("j1.module_loader"); var log_text = 'lunr search is being initialized'; logger.info(log_text); j1.adapter.lunr_search.init(); }); </script> </div> </body> <div id="cookiebar_modals"></div> <script> $(function() { $('[data-toggle="tooltip"').tooltip({ trigger: 'hover' }); $('[data-toggle="popover"').popover({ trigger: 'hover' }); }); </script> </html>

    
    
